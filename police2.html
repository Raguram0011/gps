<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸš“ Police SOS Control Center</title>
<link rel="stylesheet" href="police2.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>

<header>
ğŸš¨ Police SOS Control Center ğŸš¨
<button onclick="openHistory()">ğŸ“œ History</button>
<button id="enableSirenBtn">Start Alerts ğŸ””</button>
</header>

<div class="dashboard">
  <div class="leftPanel">
    <canvas id="statusChart" height="200"></canvas>
    <div id="sosContainer">
      <h2>ğŸ“‹ Active SOS Alerts</h2>
      <div>Loading SOS alerts...</div>
    </div>
  </div>
  <div id="map"></div>
</div>

<audio id="siren" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" preload="auto"></audio>

<div id="historyModal">
  <div id="historyContent">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <h2>ğŸ“œ SOS History Logs</h2>
      <button class="closeBtn" onclick="closeHistory()">âœ– Close</button>
    </div>
    <button class="downloadBtn" onclick="downloadHistory()">â¬‡ Download CSV</button>
    <div id="historyList">No history available.</div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="police2.js"></script>
</body>
</html>
